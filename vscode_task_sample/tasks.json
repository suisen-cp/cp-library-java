
{
    "version": "2.0.0",

    "tasks": [
        {
            "label": "expand",
            "type": "shell",
            "command": "dependency_expander/scripts/expander.sh",
            "args": [
                "${file}"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "presentation": {
                "echo": true,
                // "reveal": "silent",
                "showReuseMessage": false,
                "clear": true
            }
        },
        {
            "label": "compile libraries",
            "type": "shell",
            "command": "(dependency_expander/scripts/compile_library.sh; dependency_expander/scripts/build_dependency_graph.sh)",
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "presentation": {
                "echo": false,
                "reveal": "silent",
                "showReuseMessage": false,
                "clear": true
            }
        },
        {
            "label": "create template file (Main)",
            "type": "shell",
            "command": "template_generator/scripts/gen_templates.sh",
            "args": [
                "-v", "contest/templates/Simple.variables.sh", "contest/templates/Simple.template", "${input:gen_path}"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "presentation": {
                "echo": false,
                "reveal": "silent",
                "showReuseMessage": false,
                "clear": true
            }
        },
        {
            "label": "create template files",
            "type": "shell",
            "command": "template_generator/scripts/gen_templates.sh",
            "args": [
                "-v", "contest/templates/Simple.variables.sh",
                "contest/templates/Simple.template", "${input:gen_path}",
                "${input:gen_from}", "${input:gen_to}"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "presentation": {
                "echo": false,
                "reveal": "silent",
                "showReuseMessage": false,
                "clear": true
            }
        },
        {
            "label": "remove [A-Z].java",
            "type": "shell",
            "command": "for a in {A..Z}; do rm -f \"${input:rm_path}/${a}.java\"; done",
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "presentation": {
                "echo": false,
                "reveal": "silent",
                "showReuseMessage": false,
                "clear": true
            }
        },
        {
            "label": "cm input",
            "type": "shell",
            "command": "echo",
            "args": [
                "${input:cm}"
            ]
        }
    ],
    "inputs": [
        {
            "id": "gen_path",
            "description": "directory",
            "default": "contest/src",
            "type": "promptString"
        },
        {
            "id": "gen_from",
            "description": "from",
            "default": "A",
            "type": "promptString"
        },
        {
            "id": "gen_to",
            "description": "to",
            "default": "F",
            "type": "promptString"
        },
        {
            "id": "rm_path",
            "description": "directory",
            "default": "contest/src",
            "type": "promptString"
        }
    ]
}